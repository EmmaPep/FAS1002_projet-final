---
title: "Importation et manipulation des données"
description: | 
  Importation suivi de la manipulation des données utilisées à des fins d'analyses
  dans le cadre du travail final pour le cours FAS1002 de l'automne 2021.
date: "`r Sys.Date()`"
# Modifier les détails que vous voulez
author:
  - first_name: "Emmanuelle"
    last_name: "Pépin"
    url: https://github.com/EmmaPep
    # les champs d'affiliation sont optionnels, vous pouvez les
    # comment out en ajoutant un # devant.
    affiliation: FAS1002
    affiliation_url: https://admission.umontreal.ca/programmes/microprogramme-de-1er-cycle-en-analyse-des-megadonnees-en-sciences-humaines-et-sociales/structure-du-programme/
    # changer pour votre propre orcid id
    # https://orcid.org/ pour vous inscrire.
    # orcid_id: 0000-0000-0000-0000
# Changer pour votre propre URL si jamais quelqu'un vous cite!
citation_url: https://emmapep.github.io/FAS1002_projet-final/
# Inclure les références que vous utilisez dans vos rapports
# dans un fichier biblio.bib. Je conseille Zotero pour construire
# ce fichier ou d'utiliser le package citr dans RStudio.
# Installation: devtools::install_github("crsh/citr")
bibliography: references.bib
output: distill::distill_article
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

```{r, include=FALSE}
# Importation du script de téléchargement des données
source("R/Telechargement.R", local = knitr::knit_global())
```


```{r}
#Packages utilisés:
library(tidyverse)
library(lubridate)
```

# Données
Les données utilisées dans le présent travail proviennent de deux sources différentes, 
Our World in Data et Gapminder. Ces organisations ont comme mission d'utiliser les 
données afin d'illustrer de façon compréhensible et excitantes les problèmes et enjeux du monde actuel.
Vu la quantité infinie d'information disponible, il est toutefois important de bien cerner
les données à utiliser. La présente section décrit les jeux de données retenus
ainsi que la démarche effectuée pour préparer les dpréparer.

## Our World in Data (OWID)
### Données sur la vaccination (covid-19)
La banque de données principal de cette étude provient de l'organisme [Our World in Data](https://ourworldindata.org/) qui est présentement très actif pour colliger et visualiser les données de la pandémie en cours. Nous nous attarderons ici aux données sur la vaccination. Contenant plusieurs données clé pour le suivi du statut vaccinal à l'échelle mondiale, ce jeu de données peut d'ailleurs être consulté sur [leur répertoire](https://github.com/owid/covid-19-data/tree/master/public/data/vaccinations) qui est mis à jour quotidiennement. Plusieurs visualisations fort intéressantes et très détaillées sont d'ailleurs disponibles sur [leur site](https://ourworldindata.org/covid-vaccinations). Ici, toutefois, nous nous servirons de cette banque de données à des fins d'exploration. Elle sera également combinée avec les banques de données qui suivent.

**La banque de données de vaccination en quelques points**
- Disponible en format .csv sur GitHub
- Elle contient 16 variables
- Des observations sont ajoutées quotidiennement
- Les observations sont classées selon le pays ou une région définie par OWID
  - Les pays sont classés en utilisant la classification ISO 3166-1 alpha-3
  - Les régions ont un code début par *OWID-* pour les distinguer des codes standardisés des pays

## Gapminder
### Population et produit intérieur brut (P.I.B.)
Deux banques de données tirés de [Gapminder](https://www.gapminder.org/) sont utilisées pour ce travail. Tout d'abord une banque concernant la [population mondiale](https://docs.google.com/spreadsheets/d/14_suWY8fCPEXV0MH7ZQMZ-KndzMVsSsA5HdR-7WqAC0/edit#gid=501532268) et une seconde comprenant le [produit intérieur brute par habitant](https://docs.google.com/spreadsheets/d/1gZZ28UiWCVue-tFHMEVOvSO58x7x-w20E23l1wZTR3E/edit#gid=501532268). Cela servira à mettre en relation divers paramètres sociaux avec la banque de données de vaccination d'OWID.

**Les banques de données de population et de P.I.B. en quelques points**
- Disponibles en format .xlsx sur Google Doc
- Les fichiers Excel contiennent différentes pages (monde, par pays, par continent, per capita, etc. qui peuvent être traitées séparément
- Les mise-à-jour ne sont pas constantes, mais la date de la dernière mise-à-jour est toujours disponible sur la première page nommée "About" du fichier Excel.
  - Population dernière mise-à-jour  disponible en date du 22 décembre 2021 : 10 décembre 2019
  - GDP dernière mise-à-jour disponible en date du 22 décembre 2021 : 30 avril 2021
- Particularité de Gapminder: leurs banques de données contiennent les prévisions pour les années à venir d'où l'importance de la date de mise-à-jour. Ainsi, les informations de population de 2020 et 2021, par exemple, devraient changer lorsque l'information sera disponible. Cette particularité est à garder en tête lorsque nous regarderons les résultats des calculs. 

# Traitement des données
## Importation/téléchargement des données
Les données brutes du présent rapport sont disponibles dans le répertoire GitHub associé dans le dossier Raw situé à l'intérieur du dossier Data. Il s'agit des données provenant directement de OWID et Gapminder et qui n'ont pas encore été traitées. Un script a été réalisé afin de permettre la mise-à-jour des fichiers. Ainsi, les données provenant de OWID sont téléchargées quotidiennement alors que celles de Gapminder sont téléchargées dans le répertoire à tous les mois. Le tout est possible dû au fait que la sauvegarde des fichiers a été codée en incluant la date dans le titre. Il est alors possible d'extraire la date et de la comparée à la date d'aujourd'hui. Se faisant, il a été possible de coder une règle de téléchargement conditionnel par rapport à la date. Une fois la nouvelle banque de données téléchargée, le script efface également la version désuette.

##

Les donnés ont tout d'abord été téléchargées dans un dossier 

Les don

*À faire dans cette section:*



*Mettre les données dans un tibble*

*Transformer les types de variables (incl: niveaux des facteurs, dates, etc.)*




***À EFFACER AVANT LA REMISE Contenu initial: pour référence***

Vous pouvez maintenant importer et travailler sur vos données, comme celles de @mathieu2021.


### Différents niveaux de titres

Dans vos différents documents, assurez-vous de bien utiliser la notation avec du Markdown et autres. 

